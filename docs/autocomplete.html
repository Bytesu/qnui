<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>autocomplete</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="assets/css/animate.css" rel="stylesheet">
    <link href="../.package/css/sui.css" rel="stylesheet">
    <link href="assets/css/docs.css" rel="stylesheet">
    <link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet">
    <link rel="shortcut icon" href="pictures/logo.png">
    <script src="../js/lib/jquery.js"></script>
    <script src="../.package/js/sui.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-50817062-1', 'taobao.org');
      ga('send', 'pageview');
    </script>
    <!--[if lt IE 9]><script src="assets/js/html5shiv.js"></script><![endif]-->
  </head>
  <body>
        <div class="sui-navbar navbar-fixed-top navbar-inverse">
          <div class="navbar-inner">
            <div class="sui-container"><a href="./index.html" class="sui-brand"><i class="sui-icon icon-github-alt">&nbsp;</i>QNUI</a>
              <ul class="sui-nav nav-links">
                <li><a href="./index.html">首页</a></li>
                <li class="active"><a href="./global.html">组件库</a></li>
                <li><a href="./examples.html">案例</a></li>
                <li><a href="./tutorial.html">教程</a></li>
                <li><a href="./download.html">下载</a></li>
                <li><a href="./about.html">关于</a></li>
              </ul>
            </div>
          </div>
        </div>
    <div class="sui-layout">
      <div class="sidebar">
            <ul class="sui-nav nav-tabs nav-stacked nav-xlarge docs-sidenav">
              <li><a href="global.html"><i class="sui-icon icon-globe">&nbsp;</i>全局样式</a>
              </li>
              <li><a><i class="sui-icon icon-th">&nbsp;</i>插件规范<i class="sui-icon icon-angle-down pull-right"></i></a>
                <ul class="sui-nav nav-tabs nav-stacked">
                  <li><a href="toolbar.html">工具栏</a></li>
                  <li><a href="desktop.html">桌面</a></li>
                  <li><a href="toolbar-ww.html">旺旺工具栏</a></li>
                </ul>
              </li>
              <li><a><i class="sui-icon icon-magic">&nbsp;</i>基础css<i class="sui-icon icon-angle-down pull-right"></i></a>
                <ul class="sui-nav nav-tabs nav-stacked">
                  <li><a href="buttons.html">按钮</a></li>
                  <li><a href="forms.html">表单</a></li>
                  <li><a href="tables.html">表格</a></li>
                  <li><a href="icons.html">图标</a></li>
                </ul>
              </li>
              <li><a><i class="sui-icon icon-picture">&nbsp;</i>css组件<i class="sui-icon icon-angle-down pull-right"></i></a>
                <ul class="sui-nav nav-tabs nav-stacked">
                  <li><a href="msgs.html">提示消息</a></li>
                  <li><a href="steps.html">步骤条</a></li>
                  <li><a href="tab.html">标签页</a></li>
                  <li><a href="breadcrumb.html">面包屑</a></li>
                  <li><a href="pagination.html">分页器</a></li>
                  <li><a href="button-groups.html">按钮组</a></li>
                  <li><a href="dropdown.html">下拉菜单</a></li>
                  <li><a href="checkbox.html">选框</a></li>
                  <li><a href="label.html">Label</a></li>
                  <li><a href="tag.html">Tag</a></li>
                  <li><a href="progress.html">进度条</a></li>
                  <li><a href="loading.html">Loading</a></li>
                </ul>
              </li>
              <li class="active"><a><i class="sui-icon icon-shopping-cart">&nbsp;</i>js组件<i class="sui-icon icon-angle-down pull-right"></i></a>
                <ul class="sui-nav nav-tabs nav-stacked">
                  <li><a href="dialog.html">对话框</a></li>
                  <li><a href="tooltip.html">tooltip</a></li>
                  <li><a href="tab-js.html">标签页</a></li>
                  <li><a href="pagination-js.html">分页器</a></li>
                  <li><a href="form-validate.html">表单校验</a></li>
                  <li><a href="dropdown-js.html">下拉菜单</a></li>
                  <li><a href="tree-js.html">级联选择</a></li>
                  <li><a href="datetimepicker.html">datetimepicker</a></li>
                  <li class="active"><a href="autocomplete.html">Autocomplete</a></li>
                </ul>
              </li>
            </ul>
            <script type="text/javascript">var disqus_identifier = 'disqus-id-Autocomplete';</script>
      </div>
      <div class="content">
        <div class="content-inner">
          <h1>自动补全</h1>
          <h2 class="sui-page-header">开发者文档</h2>
          <p class="sui-lead">
            <ul class="unstyled">
              <li>简单易用的自动补全插件。移植自 <a href='https://github.com/devbridge/jQuery-Autocomplete' target='_blank'>https://github.com/devbridge/jQuery-Autocomplete</a></li>
            </ul>
          </p>
          <ul class="sui-nav nav-tabs nav-large">
            <li class="active"><a href="#demo1" data-toggle="tab">示例</a></li>
            <li><a href="#code1" data-toggle="tab">代码</a></li>
            <li><a href="#doc1" data-toggle="tab">文档</a></li>
          </ul>
          <div class="tab-content">
            <div id="demo1" class="tab-pane active">
              <div class="container">
                <h4>1.使用本地数据</h4>
                <div class="clearfix">
                  <p>Type country name in english:</p>
                  <div style="float:left;">
                    <form class="sui-form">
                      <input id="autocomplete" type="text" name="country" placeholder="输入..." class="input-xlarge">
                      <div class="help-inline">
                        <div class="sui-msg msg-tips">
                          <div id="selection" class="msg-con">请选择</div>
                          <div class="msg-icon"></div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
                <script src="assets/js/countries.js"></script>
                <script>
                  $('#autocomplete').autocomplete({
                    lookup: countries,
                    minChars: 0,
                    onSelect: function (suggestion) {
                        $('#selection').html('You selected: ' + suggestion.value);
                    }
                  });
                  
                  
                </script>
                <h4>2.使用Ajax数据</h4>
                <div class="clearfix">
                  <p>Type country name in english:</p>
                  <div style="float:left;">
                    <form class="sui-form">
                      <input id="autocomplete-ajax" type="text" name="country" placeholder="输入..." class="input-xlarge">
                      <div class="help-inline">
                        <div class="sui-msg msg-tips">
                          <div id="selection-ajax" class="msg-con">请选择</div>
                          <div class="msg-icon"></div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
                <script src="assets/js/jquery.mockjax.js"></script>
                <script>
                  var countriesArray = $.map(countries, function (value, key) { return { value: value, data: key }; });
                  // Setup jQuery ajax mock:
                  $.mockjax({
                      url: '*',
                      responseTime: 0,
                      response: function (settings) {
                          var query = settings.data.query,
                              queryLowerCase = query.toLowerCase(),
                              re = new RegExp('\\b' + $.Autocomplete.utils.escapeRegExChars(queryLowerCase), 'gi'),
                              suggestions = $.grep(countriesArray, function (country) {
                                   // return country.value.toLowerCase().indexOf(queryLowerCase) === 0;
                              return re.test(country.value);
                              }),
                              response = {
                                  query: query,
                                  suggestions: suggestions
                              };
                              
                          this.responseText = JSON.stringify(response);
                      }
                  });
                  $('#autocomplete-ajax').autocomplete({
                      serviceUrl: 'dada',
                      lookupFilter: function(suggestion, originalQuery, queryLowerCase) {
                          var re = new RegExp('\\b' + $.Autocomplete.utils.escapeRegExChars(queryLowerCase), 'gi');
                          return re.test(suggestion.value);
                      },
                      onSelect: function (suggestion) {
                        $("#selection-ajax").html('您选择了'+suggestion.value);
                      },
                      //- onHint: function (hint) {
                      //-   $('#autocomplete-ajax-x').val(hint);
                      //- },
                      onInvalidateSelection: function() {
                        $('#selection-ajax').html('You selected: none');
                      }
                  });
                  
                </script>
                <div style="width: 50%;" class="clearfix">
                  <h4>3.宽度自适应</h4>
                  <p>Type country name in english:</p>
                  <div>
                    <form class="sui-form">
                      <input id="autocomplete-dynamic" type="text" name="country" style="width: 100%; " class="input-xlarge">
                    </form>
                  </div>
                  <script>
                    $('#autocomplete-dynamic').autocomplete({
                        lookup: countriesArray
                    });
                  </script>
                </div>
              </div>
            </div>
            <div id="code1" class="tab-pane">
              <pre data-target="#demo1" class="prettyprint linenums"></pre>
            </div>
            <div id="doc1" class="tab-pane">
              <p class="sui-lead">调用 <code>autocomplete</code> 可以传入一个参数对象，所有配置项如下表所示。其中JSON格式的配置项同时也支持以data-api的形式来配置。</p>
              <table class="sui-table">
                <tr>
                  <th>参数</th>
                  <th>默认值</th>
                  <th>说明</th>
                </tr>
                <tr>
                  <td>autoSelectFirst</td>
                  <td>false</td>
                  <td>是否自动选中第一个</td>
                </tr>
                <tr>
                  <td>appendTo</td>
                  <td>"body"</td>
                  <td>自动补全的菜单的容器</td>
                </tr>
                <tr>
                  <td>serviceUrl</td>
                  <td>null</td>
                  <td>获取数据的接口(服务器端的URL地址或者生成URL字符串的回调方法)，如果定义了lookup 则此配置无效</td>
                </tr>
                <tr>
                  <td>lookup</td>
                  <td>null</td>
                  <td>读取本地数据，建议查找数组。比如 ['a', 'b', 'c']，如果配置了lookup，则忽略serviceUrl</td>
                </tr>
                <tr>
                  <td>onSelect</td>
                  <td>null</td>
                  <td>选中结果时的回调,参数 (element, suggestion)</td>
                </tr>
                <tr>
                  <td>width</td>
                  <td>auto</td>
                  <td>下拉框宽度，默认与输入框一样</td>
                </tr>
                <tr>
                  <td>minChars</td>
                  <td>1</td>
                  <td>出发自动补全的字符最小数量</td>
                </tr>
                <tr>
                  <td>maxHeight</td>
                  <td>300</td>
                  <td>下拉菜单的最大高度</td>
                </tr>
                <tr>
                  <td>params</td>
                  <td>{}</td>
                  <td>附加参数</td>
                </tr>
                <tr>
                  <td>formatResult</td>
                  <td>Autocomplete.formatResult</td>
                  <td>自定义格式化补全结果，参数(suggestion, currentValue) </td>
                </tr>
                <tr>
                  <td>noCache</td>
                  <td>false</td>
                  <td>是否要缓存</td>
                </tr>
                <tr>
                  <td>lookupFilter</td>
                  <td>function (suggestion, originalQuery, queryLowerCase) { return suggestion.value.toLowerCase().indexOf(queryLowerCase) !== -1; }</td>
                  <td>过滤自动补全的结果，默认是匹配查询词。如果不需要过滤结果可以置为 $.noop。</td>
                </tr>
                <tr>
                  <td>paramName</td>
                  <td>query</td>
                  <td>查询请求参数</td>
                </tr>
                <tr>
                  <td>transformResult</td>
                  <td>function (response) { return typeof response === 'string' ? $.parseJSON(response) : response; }</td>
                  <td>处理ajax的返回结果，参数 (response)。</td>
                </tr>
              </table>
            </div>
          </div>
          <ul class="demo-operations clearfix">
            <li><a href="javascript:void(0)" data-target="#demo1" class="copy-btn">复制代码</a></li>
          </ul>
          <h2>通过HTML标记自动初始化</h2>
          <p class="sui-lead">在input上添加 <code>data-toggle='autocomplete'</code> 可以启用自动补全，并且所有js中可以配置的JSON格式的参数都可以通过 data-api 在html中直接配置。</p>
          <ul class="sui-nav nav-tabs nav-large">
            <li class="active"><a href="#demo2" data-toggle="tab">示例</a></li>
            <li><a href="#code2" data-toggle="tab">代码</a></li>
          </ul>
          <div class="tab-content">
            <div id="demo2" class="tab-pane active">
              <form class="sui-form">
                <h4>通过ajax读取数据</h4>
                <input type="text" id="auto-init-1" value="" data-toggle="autocomplete" data-serviceUrl="/ac.json" class="input-large">
                <h4>使用本地数据</h4>
                <input type="text" id="auto-init-2" value="" data-toggle="autocomplete" data-lookup="[&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;, &quot;edfa&quot;, &quot;wdasda&quot;, &quot;tueiyhgk&quot;, &quot;vjflcjx&quot;]" class="input-large">
              </form>
            </div>
            <div id="code2" class="tab-pane">
              <pre data-target="#demo2" class="prettyprint linenums"></pre>
            </div>
          </div>
          <ul class="demo-operations clearfix">
            <li><a href="javascript:void(0)" data-target="#demo2" class="copy-btn">复制代码</a></li>
          </ul>
          <h2>下拉菜单样式</h2>
          <p class="sui-lead">关于下拉菜单样式，参见这里 <a href='dropdown.html'>dropdown</a></p>
          <ul class="sui-nav nav-tabs nav-large">
            <li class="active"><a href="#demo3" data-toggle="tab">示例</a></li>
            <li><a href="#code3" data-toggle="tab">代码</a></li>
          </ul>
          <div class="tab-content">
            <div id="demo3" class="tab-pane active">
              <form class="sui-form">
                <div class="sui-dropdown-like">
                  <input type="text" value="" data-toggle="autocomplete" data-serviceUrl="/ac.json" class="input-large"><i class="sui-icon icon-pc-chevron-bottom"></i>
                </div>
              </form>
            </div>
            <div id="code3" class="tab-pane">
              <pre data-target="#demo3" class="prettyprint linenums"></pre>
            </div>
          </div>
          <ul class="demo-operations clearfix">
            <li><a href="javascript:void(0)" data-target="#demo3" class="copy-btn">复制代码</a></li>
          </ul>
          <div id="disqus_thread"></div>
          <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'sui-alibaba'; // required: replace example with your forum shortname
            
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
          </script><a href="http://disqus.com" class="dsq-brlink">comments powered by<span class="logo-disqus">Disqus</span></a>
          <div class="footer">
            <ul class="unstyled">
              <li>@time 2014.03.07</li>
              <li>@author 商家业务事业部-电商服务支撑平台-UED团队</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <script src="assets/js/google-code-prettify/prettify.js"></script>
    <script src="assets/zeroclipboard/ZeroClipboard.js"></script>
    <script src="assets/js/application.js"></script>
    <script src="http://localhost:3457/livereload.js"></script>
  </body>
</html>